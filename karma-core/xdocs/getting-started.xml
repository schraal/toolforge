<?xml version="1.0"?>

<document>

	<properties>
		<title>Toolforge</title>
		<author email="asmedes@home.nl">Arjen Smedes</author>
		<author email="w.h.schraal@toolforge.nl">Hilbert Schraal</author>
	</properties>

	<body>
		<section name="Getting Started">
			<p>
			This page describes how to get Karma started on your local
			machine. This description is meant for people who want to build
			Karma from the sources. Binary distributions of Karma have their
			own way to get started.
			</p>
		</section>

		<section name="Prerequisites">
			<p>
			The following software needs to be installed and configured in order to be able to build Karma:

			<ul>
				<li>
					Java Software Development Kit (J2SDK) version 1.3 or higher. An environment variable
					<code>JAVA_HOME</code> has to be defined, which points to your J2SDK install directory
					(e.g. <code>/opt/j2sdk-1.4.1</code>).
					The <code>JAVA_HOME/bin</code> directory has to be included in your <code>PATH</code>.
				</li>
				<li>
					Maven 1.0. The bin directory of Maven has to be included in your <code>PATH</code>.
				</li>
				<li>
					A test CVS repository is needed to be able to run the unit tests. Unpack
					<code>karma-core/resources/test-CVSROOT.tgz</code> in a directory of your
					choice and configure that directory in <code>karma-core/resources/test-cvs.properties</code>.
				</li>
			</ul>
			</p>
		</section>

		<section name="Building">
			<p>
			Building Karma is done using the <code>maven jar:install</code> command. Call this command on the
			following Karma modules in the given order: <code>toolforge-core</code>, <code>karma-core</code>.
			</p>
		</section>

		<section name="Configuration">
			<p>
			<code>$HOME/.karma</code> should be created and a <code>karma-launcher.properties</code> with the property
			<code>karma.repository.local</code> created. This property should point to the maven repository
			directory on your system (e.g. <code>$HOME/.maven/repository</code>).
			</p>

			<p>
			Karma (whichever user interface you use) depends on a few configuration items that must
			be present. Follow the following steps to configure your local environment.
			</p>

			<ul>
				<li>
					A configuration directory <code>$HOME/.karma</code> should be created.
					The <code>LocalEnvironment</code> class will create this one upon instantiation,
					with the default configuration, if you don't supply one. <b>check whether this is true,
					that this information is shown to the user and that this mechanism is up-to-date</b>
				 </li>
				<li>
					Create a <code>karma.properties</code> file in that directory and configure
					the following properties:

					<table>
						<tr>
							<th>Name</th>
							<th>Description</th>
							<th>Value</th>
						</tr>
						<tr>
							<td><code>development.store</code></td>
							<td></td>
							<td><code>$HOME/karma/projects</code> (default value)</td>
						</tr>
						<tr>
							<td><code>manifest.store</code></td>
							<td></td>
							<td><code>$HOME/karma/manifests</code> (default value)</td>
						</tr>
						<tr>
							<td><code>location.store</code></td>
							<td></td>
							<td><code>$HOME/karma/locations</code> (default value)</td>
						</tr>
						<tr>
							<td><code>manifest-store.cvs.host</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>manifest-store.cvs.port</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>manifest-store.cvs.repository</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>manifest-store.cvs.protocol</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>manifest-store.cvs.username</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>manifest-store.cvs.password</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>location-store.cvs.host</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>location-store.cvs.port</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>location-store.cvs.repository</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>location-store.cvs.protocol</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>location-store.cvs.username</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
						<tr>
							<td><code>location-store.cvs.password</code></td>
							<td></td>
							<td>Check with your administrator.</td>
						</tr>
					</table>
				</li>
			</ul>

		</section>

		<section name="Interface">
			<p>
				The Karma core doesn't do anything by itself. You need to start an interface to be able
				to do something. Have a look at the <a href='../karma-cli/'>Karma command line interface documentation</a>
				for the next step.
			</p>
		</section>

	</body>

</document>
